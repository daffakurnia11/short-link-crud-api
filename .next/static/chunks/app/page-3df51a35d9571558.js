(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{67603:function(e,t,n){Promise.resolve().then(n.bind(n,75003))},16646:function(e,t,n){"use strict";n.d(t,{ZR:function(){return l},Sp:function(){return d},VF:function(){return r},zw:function(){return c},vh:function(){return o}});var a=n(29222);let s="/short-link/",i=e=>"/short-link/".concat(e,"/");async function r(){return await a.Z.get(s).then(e=>e).catch(e=>e.response)}async function c(e){return await a.Z.get(i(e)).then(e=>e).catch(e=>e.response)}async function l(e){return await a.Z.post(s,e).then(e=>e).catch(e=>e.response)}async function o(e,t){return await a.Z.patch(i(e),t).then(e=>e).catch(e=>e.response)}async function d(e){return await a.Z.delete(i(e)).then(e=>e).catch(e=>e.response)}a.Z.defaults.baseURL="https://backend.dafkur.com/api/"},75003:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var a=n(57437),s=n(16646),i=n(88110),r=n.n(i),c=n(28170),l=n(79404),o=n(43574),d=n(63477),u=n(68939),h=n(35302),p=n(61396),x=n.n(p),m=n(2265),f=n(92608),k=n(32207),g=n(23890),y=n(43687);function j(){let[e,t]=(0,m.useState)([]),[n,i]=(0,m.useState)(!1),p=(0,g.b9)(y.v),[j]=l.Z.useForm(),[Z,b]=(0,m.useState)(""),v=e=>e.custom===Z,S=()=>{i(!0),(0,s.VF)().then(e=>{200===e.status&&t(e.data),i(!1)})};(0,m.useEffect)(()=>{S()},[]);let w=e=>{i(!0),(0,s.Sp)(e).then(e=>{204===e.status&&(p({type:"success",title:"Short link deleted",message:"Your short link has been deleted!"}),S()),i(!1)})},I=e=>{j.setFieldsValue({...e}),b(e.custom)},C=()=>{b("")},L=async e=>{i(!0);let t=await j.validateFields();(0,s.vh)(e,t).then(e=>{200===e.status?(b(""),p({type:"success",title:"Short link updated",message:"Your short link has been edited!"}),S()):p({type:"error",title:"Cannot update short link",message:"There is an error while updating a short link."}),i(!1)})},_=[{title:"No",dataIndex:"index",key:"index",render:(e,t,n)=>++n},{title:"Short Link Name",dataIndex:"name",key:"name",editable:!0},{title:"Original Link",dataIndex:"origin",key:"origin",editable:!0,render:e=>(0,a.jsx)(x(),{href:e,target:"_black",children:e})},{title:"Custom Short Link",dataIndex:"custom",key:"custom",editable:!0,render:e=>(0,a.jsxs)(x(),{href:"/".concat(e),target:"_black",className:"p-0 m-0",children:["https://link.dafkur.com/",e]})},{title:"Action",dataIndex:"action",key:"action",render:(e,t)=>{let n=v(t);return n?(0,a.jsxs)("span",{children:[(0,a.jsx)(h.Z.Link,{onClick:()=>L(t.custom),style:{marginRight:8},children:"Save"}),(0,a.jsx)(d.Z,{title:"Sure to cancel?",onConfirm:C,children:(0,a.jsx)(h.Z.Link,{children:"Cancel"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{placement:"bottom",title:"Delete confirmation",description:"Are you sure you want to delete this short link?",onConfirm:()=>w(t.custom),okText:"Yes",cancelText:"Cancel",children:(0,a.jsx)(r(),{disabled:""!==Z,type:"text",style:{padding:"0 8px"},children:(0,a.jsx)(h.Z.Text,{type:"danger",children:(0,a.jsx)(f.Z,{})})})}),(0,a.jsx)(r(),{type:"text",onClick:()=>I(t),disabled:""!==Z,style:{padding:"0 8px"},children:(0,a.jsx)(h.Z.Text,{type:"success",children:(0,a.jsx)(k.default,{})})})]})}}],F=_.map(e=>e.editable?{...e,onCell:t=>({record:t,inputType:"custom"===e.dataIndex?"custom":"origin"===e.dataIndex?"origin":"text",dataIndex:e.dataIndex,title:e.title,editing:v(t)})}:e);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(h.Z.Title,{level:4,children:"Short Link List"}),(0,a.jsx)(h.Z.Paragraph,{children:"Your short link list you have been created. You can manage the link as you want."}),(0,a.jsx)(l.Z,{form:j,children:(0,a.jsx)(u.Z,{components:{body:{cell:e=>{let{editing:t,dataIndex:n,title:s,inputType:i,record:r,index:c,children:d,...u}=e,h="custom"===i?(0,a.jsx)(o.default,{addonBefore:"https://link.dafkur.com/"}):(0,a.jsx)(o.default,{});return(0,a.jsx)("td",{...u,children:t?(0,a.jsx)(l.Z.Item,{name:n,style:{margin:0},rules:"origin"===i?[{required:!0,message:"Please Input ".concat(s,"!")},{type:"url",message:"Please provide the valid link!"}]:[{required:!0,message:"Please Input ".concat(s,"!")}],children:h}):d})}}},columns:F,dataSource:e,loading:n})})]})})}},43687:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var a=n(77665);let s=(0,a.cn)({type:"",title:"",message:""})}},function(e){e.O(0,[597,125,874,396,831,951,791,971,596,744],function(){return e(e.s=67603)}),_N_E=e.O()}]);